<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSP接口文档: db_connection_pro类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="head.png"/></td>
  <td id="projectalign">
   <div id="projectname">DSP接口文档
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','搜索');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="classdb__connection__pro-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">db_connection_pro类 参考</div></div>
</div><!--header-->
<div class="contents">

<p>对db_connection进行二次封装  
 <a href="classdb__connection__pro.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="db__connection__pro_8h_source.html">db_connection_pro.h</a>&gt;</code></p>
<div class="dynheader">
db_connection_pro 的协作图:</div>
<div class="dyncontent">
<div class="center"><img src="classdb__connection__pro__coll__graph.png" border="0" usemap="#adb__connection__pro_coll__map" alt="Collaboration graph"/></div>
<map name="adb__connection__pro_coll__map" id="adb__connection__pro_coll__map">
<area shape="rect" title="对db_connection进行二次封装" alt="" coords="5,5,256,259"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a75d406be75e481fb2dcd53116133b346"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a75d406be75e481fb2dcd53116133b346">db_connection_pro</a> (db_connection *_p_conn)</td></tr>
<tr class="memdesc:a75d406be75e481fb2dcd53116133b346"><td class="mdescLeft">&#160;</td><td class="mdescRight">默认构造函数  <a href="classdb__connection__pro.html#a75d406be75e481fb2dcd53116133b346">更多...</a><br /></td></tr>
<tr class="separator:a75d406be75e481fb2dcd53116133b346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afebff9a672c79ab913c9f2d47a9bd8bf"><td class="memItemLeft" align="right" valign="top"><a id="afebff9a672c79ab913c9f2d47a9bd8bf" name="afebff9a672c79ab913c9f2d47a9bd8bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~db_connection_pro</b> ()=default</td></tr>
<tr class="memdesc:afebff9a672c79ab913c9f2d47a9bd8bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">默认析构函数。不会释放db_connection指针 <br /></td></tr>
<tr class="separator:afebff9a672c79ab913c9f2d47a9bd8bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab24fecafd87b1b3c8c30d8289014d71b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#ab24fecafd87b1b3c8c30d8289014d71b">db_connection_pro</a> (const <a class="el" href="classdb__connection__pro.html">db_connection_pro</a> &amp;other)=default</td></tr>
<tr class="memdesc:ab24fecafd87b1b3c8c30d8289014d71b"><td class="mdescLeft">&#160;</td><td class="mdescRight">默认拷贝构造函数  <a href="classdb__connection__pro.html#ab24fecafd87b1b3c8c30d8289014d71b">更多...</a><br /></td></tr>
<tr class="separator:ab24fecafd87b1b3c8c30d8289014d71b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7726252d4fde79725ac0c179cf89449e"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a7726252d4fde79725ac0c179cf89449e">operator=</a> (const <a class="el" href="classdb__connection__pro.html">db_connection_pro</a> &amp;other) -&gt; <a class="el" href="classdb__connection__pro.html">db_connection_pro</a> &amp;=default</td></tr>
<tr class="memdesc:a7726252d4fde79725ac0c179cf89449e"><td class="mdescLeft">&#160;</td><td class="mdescRight">默认拷贝赋值函数  <a href="classdb__connection__pro.html#a7726252d4fde79725ac0c179cf89449e">更多...</a><br /></td></tr>
<tr class="separator:a7726252d4fde79725ac0c179cf89449e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf83fe2ba23e1b38e388f51dbb9cce31"><td class="memItemLeft" align="right" valign="top"><a id="acf83fe2ba23e1b38e388f51dbb9cce31" name="acf83fe2ba23e1b38e388f51dbb9cce31"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DISABLE_MOVE</b> (<a class="el" href="classdb__connection__pro.html">db_connection_pro</a>)</td></tr>
<tr class="memdesc:acf83fe2ba23e1b38e388f51dbb9cce31"><td class="mdescLeft">&#160;</td><td class="mdescRight">禁止move <br /></td></tr>
<tr class="separator:acf83fe2ba23e1b38e388f51dbb9cce31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5db5c2e47d8022e1e3fa4fedb0d220a"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae5db5c2e47d8022e1e3fa4fedb0d220a"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#ae5db5c2e47d8022e1e3fa4fedb0d220a">get_visitor</a> (uint16_t tid) -&gt; <a class="el" href="classdb_obj_visitor.html">dbObjVisitor</a>&lt; T &gt;</td></tr>
<tr class="memdesc:ae5db5c2e47d8022e1e3fa4fedb0d220a"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取单表访问器  <a href="classdb__connection__pro.html#ae5db5c2e47d8022e1e3fa4fedb0d220a">更多...</a><br /></td></tr>
<tr class="separator:ae5db5c2e47d8022e1e3fa4fedb0d220a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b10b142ef3afad992e68095b820a01c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a2b10b142ef3afad992e68095b820a01c"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a2b10b142ef3afad992e68095b820a01c">get_visitor</a> (const OID &amp;oid, uint16_t fid) -&gt; <a class="el" href="classdb_obj_visitor.html">dbObjVisitor</a>&lt; T &gt;</td></tr>
<tr class="memdesc:a2b10b142ef3afad992e68095b820a01c"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据父对象oid和父子关联关系的域id，获取子对象的访问器  <a href="classdb__connection__pro.html#a2b10b142ef3afad992e68095b820a01c">更多...</a><br /></td></tr>
<tr class="separator:a2b10b142ef3afad992e68095b820a01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b80a06122e657fe2a0adc457aed0521"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a8b80a06122e657fe2a0adc457aed0521"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a8b80a06122e657fe2a0adc457aed0521">update_attr_by_oid</a> (const OID &amp;oid, uint16_t fid, const T &amp;attr, typename <a class="el" href="namespacedsp_1_1type__traits.html#a94444abd4b0829bf423af5defe918cdc">dsp::enable_if_t</a>&lt; std::is_arithmetic&lt; T &gt;::value &gt; *=nullptr) -&gt; int32_t</td></tr>
<tr class="memdesc:a8b80a06122e657fe2a0adc457aed0521"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据oid更新单个域(数值型)  <a href="classdb__connection__pro.html#a8b80a06122e657fe2a0adc457aed0521">更多...</a><br /></td></tr>
<tr class="separator:a8b80a06122e657fe2a0adc457aed0521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2bdcff0e93b03da638662ab31aef7f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a7f2bdcff0e93b03da638662ab31aef7f">get_attrs_info_by_id</a> (uint16_t tid, uint16_t fid) -&gt; db_field_info</td></tr>
<tr class="memdesc:a7f2bdcff0e93b03da638662ab31aef7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">查询域对象元数据  <a href="classdb__connection__pro.html#a7f2bdcff0e93b03da638662ab31aef7f">更多...</a><br /></td></tr>
<tr class="separator:a7f2bdcff0e93b03da638662ab31aef7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3836a87cbf24b68401580918558a66"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a3d3836a87cbf24b68401580918558a66"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a3d3836a87cbf24b68401580918558a66">update_attr_by_oid</a> (const OID &amp;oid, uint16_t fid, const T &amp;attr, typename <a class="el" href="namespacedsp_1_1type__traits.html#a94444abd4b0829bf423af5defe918cdc">dsp::enable_if_t</a>&lt; <a class="el" href="namespacedsp_1_1type__traits.html#aa75dcad1b3ea3d9043d65b77e023b7dc">dsp::is_same_t</a>&lt; char *, typename <a class="el" href="namespacedsp_1_1type__traits.html#a91dc75b2235bcea6e4e45b78612a06fe">dsp::decay_t</a>&lt; T &gt; &gt;::value &gt; *=nullptr) -&gt; int32_t</td></tr>
<tr class="memdesc:a3d3836a87cbf24b68401580918558a66"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据oid更新单个域(字符型)  <a href="classdb__connection__pro.html#a3d3836a87cbf24b68401580918558a66">更多...</a><br /></td></tr>
<tr class="separator:a3d3836a87cbf24b68401580918558a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded20cbb84f2a55cf44c6696684e7112"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aded20cbb84f2a55cf44c6696684e7112"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#aded20cbb84f2a55cf44c6696684e7112">get_pt_object_by_oid</a> (const OID &amp;oid) -&gt; T *</td></tr>
<tr class="memdesc:aded20cbb84f2a55cf44c6696684e7112"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据oid获取对象紧耦合指针  <a href="classdb__connection__pro.html#aded20cbb84f2a55cf44c6696684e7112">更多...</a><br /></td></tr>
<tr class="separator:aded20cbb84f2a55cf44c6696684e7112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f8545a532ae89747c66d8db61ec730"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aa7f8545a532ae89747c66d8db61ec730"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#aa7f8545a532ae89747c66d8db61ec730">get_all_objects</a> (uint16_t tid, size_t max_sz) -&gt; vector&lt; T &gt;</td></tr>
<tr class="memdesc:aa7f8545a532ae89747c66d8db61ec730"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取单表全数据。由于单表数据量有可能较多，接口内部可能多次调用底层接口，接口会根据指定的最大字节数自行判断  <a href="classdb__connection__pro.html#aa7f8545a532ae89747c66d8db61ec730">更多...</a><br /></td></tr>
<tr class="separator:aa7f8545a532ae89747c66d8db61ec730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f23e34b829021795ee4886cace0b656"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a9f23e34b829021795ee4886cace0b656">get_single_class_addr</a> (uint16_t tid) -&gt; db_class_addr</td></tr>
<tr class="memdesc:a9f23e34b829021795ee4886cace0b656"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取单表紧耦合指针首地址  <a href="classdb__connection__pro.html#a9f23e34b829021795ee4886cace0b656">更多...</a><br /></td></tr>
<tr class="separator:a9f23e34b829021795ee4886cace0b656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8518115ef3e2802d971a22c5c5e93c2"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#ab8518115ef3e2802d971a22c5c5e93c2">get_mode</a> () -&gt; OPEN_MODE</td></tr>
<tr class="memdesc:ab8518115ef3e2802d971a22c5c5e93c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取本db_connection所运行的模式  <a href="classdb__connection__pro.html#ab8518115ef3e2802d971a22c5c5e93c2">更多...</a><br /></td></tr>
<tr class="separator:ab8518115ef3e2802d971a22c5c5e93c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542b0697c5f48e3b045aff65836bceb4"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a542b0697c5f48e3b045aff65836bceb4"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a542b0697c5f48e3b045aff65836bceb4">get_attr_by_oid</a> (const OID &amp;oid, uint16_t fid, typename <a class="el" href="namespacedsp_1_1type__traits.html#a94444abd4b0829bf423af5defe918cdc">dsp::enable_if_t</a>&lt;!std::is_same&lt; char *, typename <a class="el" href="namespacedsp_1_1type__traits.html#a91dc75b2235bcea6e4e45b78612a06fe">dsp::decay_t</a>&lt; T &gt; &gt;::value &gt; *=nullptr) -&gt; T</td></tr>
<tr class="memdesc:a542b0697c5f48e3b045aff65836bceb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取对象的单个域(非字符型)  <a href="classdb__connection__pro.html#a542b0697c5f48e3b045aff65836bceb4">更多...</a><br /></td></tr>
<tr class="separator:a542b0697c5f48e3b045aff65836bceb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a897add4c333a2c6e86f05996039ac"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a32a897add4c333a2c6e86f05996039ac"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a32a897add4c333a2c6e86f05996039ac">get_attr_by_oid</a> (const OID &amp;oid, uint16_t fid, typename <a class="el" href="namespacedsp_1_1type__traits.html#a94444abd4b0829bf423af5defe918cdc">dsp::enable_if_t</a>&lt; std::is_same&lt; char *, typename <a class="el" href="namespacedsp_1_1type__traits.html#a91dc75b2235bcea6e4e45b78612a06fe">dsp::decay_t</a>&lt; T &gt; &gt;::value &gt; *=nullptr) -&gt; string</td></tr>
<tr class="memdesc:a32a897add4c333a2c6e86f05996039ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取对象的单个域(字符型)  <a href="classdb__connection__pro.html#a32a897add4c333a2c6e86f05996039ac">更多...</a><br /></td></tr>
<tr class="separator:a32a897add4c333a2c6e86f05996039ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e12b3a5446e777f90674156a3ae14cf"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1e12b3a5446e777f90674156a3ae14cf"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a1e12b3a5446e777f90674156a3ae14cf">get_related_objects</a> (const OID &amp;oid, uint16_t fid, size_t max_sz=DEFAULT_MAX_MSG_SIZE) -&gt; vector&lt; T &gt;</td></tr>
<tr class="memdesc:a1e12b3a5446e777f90674156a3ae14cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据夫对象oid和父子关系域id，获取所有子对象  <a href="classdb__connection__pro.html#a1e12b3a5446e777f90674156a3ae14cf">更多...</a><br /></td></tr>
<tr class="separator:a1e12b3a5446e777f90674156a3ae14cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09f65cef5afa8e48829b168f9547c0f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#af09f65cef5afa8e48829b168f9547c0f">get_all_relations_info</a> (uint16_t tid) -&gt; vector&lt; db_relation_info &gt;</td></tr>
<tr class="memdesc:af09f65cef5afa8e48829b168f9547c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定表的所有关联关系元数据  <a href="classdb__connection__pro.html#af09f65cef5afa8e48829b168f9547c0f">更多...</a><br /></td></tr>
<tr class="separator:af09f65cef5afa8e48829b168f9547c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4282592725f435eaae6424a51565b2"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:afa4282592725f435eaae6424a51565b2"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#afa4282592725f435eaae6424a51565b2">get_object_by_oid</a> (const OID &amp;oid) -&gt; T</td></tr>
<tr class="memdesc:afa4282592725f435eaae6424a51565b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据oid获取单个对象  <a href="classdb__connection__pro.html#afa4282592725f435eaae6424a51565b2">更多...</a><br /></td></tr>
<tr class="separator:afa4282592725f435eaae6424a51565b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3bc16a1a80b1f4aefcd837145a62b35"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#ad3bc16a1a80b1f4aefcd837145a62b35">is_circle</a> (uint16_t tid) -&gt; bool</td></tr>
<tr class="memdesc:ad3bc16a1a80b1f4aefcd837145a62b35"><td class="mdescLeft">&#160;</td><td class="mdescRight">判断指定表是否为循环表  <a href="classdb__connection__pro.html#ad3bc16a1a80b1f4aefcd837145a62b35">更多...</a><br /></td></tr>
<tr class="separator:ad3bc16a1a80b1f4aefcd837145a62b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63f1cfb8706ab02237f1fd447cf6157"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#ae63f1cfb8706ab02237f1fd447cf6157">get_lv_of_class</a> (uint16_t tid) -&gt; size_t</td></tr>
<tr class="memdesc:ae63f1cfb8706ab02237f1fd447cf6157"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取单表的当前对象数  <a href="classdb__connection__pro.html#ae63f1cfb8706ab02237f1fd447cf6157">更多...</a><br /></td></tr>
<tr class="separator:ae63f1cfb8706ab02237f1fd447cf6157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8edac61d0e77397a804ba245799f96"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a9a8edac61d0e77397a804ba245799f96">get_mx_of_class</a> (uint16_t tid) -&gt; size_t</td></tr>
<tr class="memdesc:a9a8edac61d0e77397a804ba245799f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取单表的容量  <a href="classdb__connection__pro.html#a9a8edac61d0e77397a804ba245799f96">更多...</a><br /></td></tr>
<tr class="separator:a9a8edac61d0e77397a804ba245799f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e079dde109f14dab050c6dc99c7c869"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__connection__pro.html#a0e079dde109f14dab050c6dc99c7c869">get_sub_of_cycle</a> (uint16_t tid, uint32_t &amp;head, uint32_t &amp;tail)</td></tr>
<tr class="memdesc:a0e079dde109f14dab050c6dc99c7c869"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取循环表表头表尾的下标  <a href="classdb__connection__pro.html#a0e079dde109f14dab050c6dc99c7c869">更多...</a><br /></td></tr>
<tr class="separator:a0e079dde109f14dab050c6dc99c7c869"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p >对db_connection进行二次封装 </p>
<p >提高数据库接口的易用性 </p>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a id="a75d406be75e481fb2dcd53116133b346" name="a75d406be75e481fb2dcd53116133b346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75d406be75e481fb2dcd53116133b346">&#9670;&nbsp;</a></span>db_connection_pro() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">db_connection_pro::db_connection_pro </td>
          <td>(</td>
          <td class="paramtype">db_connection *&#160;</td>
          <td class="paramname"><em>_p_conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>默认构造函数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_p_conn</td><td>db_connection指针 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab24fecafd87b1b3c8c30d8289014d71b" name="ab24fecafd87b1b3c8c30d8289014d71b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab24fecafd87b1b3c8c30d8289014d71b">&#9670;&nbsp;</a></span>db_connection_pro() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">db_connection_pro::db_connection_pro </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdb__connection__pro.html">db_connection_pro</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>默认拷贝构造函数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>被拷贝的对象 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="aa7f8545a532ae89747c66d8db61ec730" name="aa7f8545a532ae89747c66d8db61ec730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7f8545a532ae89747c66d8db61ec730">&#9670;&nbsp;</a></span>get_all_objects()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_all_objects </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; vector&lt;T&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取单表全数据。由于单表数据量有可能较多，接口内部可能多次调用底层接口，接口会根据指定的最大字节数自行判断 </p>
<dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>表类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
    <tr><td class="paramname">max_sz</td><td>接口内部单次调用底层接口所能获取的最大字节数，默认1M </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>单表所有对象 </dd></dl>

</div>
</div>
<a id="af09f65cef5afa8e48829b168f9547c0f" name="af09f65cef5afa8e48829b168f9547c0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09f65cef5afa8e48829b168f9547c0f">&#9670;&nbsp;</a></span>get_all_relations_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_all_relations_info </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td> -&gt; vector&lt;db_relation_info&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定表的所有关联关系元数据 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>关联关系元数据 </dd></dl>

</div>
</div>
<a id="a32a897add4c333a2c6e86f05996039ac" name="a32a897add4c333a2c6e86f05996039ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a897add4c333a2c6e86f05996039ac">&#9670;&nbsp;</a></span>get_attr_by_oid() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_attr_by_oid </td>
          <td>(</td>
          <td class="paramtype">const OID &amp;&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="namespacedsp_1_1type__traits.html#a94444abd4b0829bf423af5defe918cdc">dsp::enable_if_t</a>&lt; std::is_same&lt; char *, typename <a class="el" href="namespacedsp_1_1type__traits.html#a91dc75b2235bcea6e4e45b78612a06fe">dsp::decay_t</a>&lt; T &gt; &gt;::value &gt; *&#160;</td>
          <td class="paramname"> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; string </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取对象的单个域(字符型) </p>
<dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>域类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">oid</td><td>对象oid </td></tr>
    <tr><td class="paramname">fid</td><td>域id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>字符串 </dd></dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="classdb__connection__pro_a32a897add4c333a2c6e86f05996039ac_cgraph.png" border="0" usemap="#aclassdb__connection__pro_a32a897add4c333a2c6e86f05996039ac_cgraph" alt=""/></div>
<map name="aclassdb__connection__pro_a32a897add4c333a2c6e86f05996039ac_cgraph" id="aclassdb__connection__pro_a32a897add4c333a2c6e86f05996039ac_cgraph">
<area shape="rect" title="获取对象的单个域(字符型)" alt="" coords="5,5,144,46"/>
<area shape="rect" href="classdb__connection__pro.html#a7f2bdcff0e93b03da638662ab31aef7f" title="查询域对象元数据" alt="" coords="192,5,331,46"/>
</map>
</div>

</div>
</div>
<a id="a542b0697c5f48e3b045aff65836bceb4" name="a542b0697c5f48e3b045aff65836bceb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542b0697c5f48e3b045aff65836bceb4">&#9670;&nbsp;</a></span>get_attr_by_oid() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_attr_by_oid </td>
          <td>(</td>
          <td class="paramtype">const OID &amp;&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="namespacedsp_1_1type__traits.html#a94444abd4b0829bf423af5defe918cdc">dsp::enable_if_t</a>&lt;!std::is_same&lt; char *, typename <a class="el" href="namespacedsp_1_1type__traits.html#a91dc75b2235bcea6e4e45b78612a06fe">dsp::decay_t</a>&lt; T &gt; &gt;::value &gt; *&#160;</td>
          <td class="paramname"> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; T </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取对象的单个域(非字符型) </p>
<dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>域类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">oid</td><td>对象oid </td></tr>
    <tr><td class="paramname">fid</td><td>域id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>域对象 </dd></dl>

</div>
</div>
<a id="a7f2bdcff0e93b03da638662ab31aef7f" name="a7f2bdcff0e93b03da638662ab31aef7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f2bdcff0e93b03da638662ab31aef7f">&#9670;&nbsp;</a></span>get_attrs_info_by_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_attrs_info_by_id </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; db_field_info </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>查询域对象元数据 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
    <tr><td class="paramname">fid</td><td>域id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>域对象元数据 </dd></dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="classdb__connection__pro_a7f2bdcff0e93b03da638662ab31aef7f_icgraph.png" border="0" usemap="#aclassdb__connection__pro_a7f2bdcff0e93b03da638662ab31aef7f_icgraph" alt=""/></div>
<map name="aclassdb__connection__pro_a7f2bdcff0e93b03da638662ab31aef7f_icgraph" id="aclassdb__connection__pro_a7f2bdcff0e93b03da638662ab31aef7f_icgraph">
<area shape="rect" title="查询域对象元数据" alt="" coords="227,57,365,98"/>
<area shape="rect" href="classdb_obj_visitor.html#ab2d4e190b9196adee7e57d6c826e028b" title="子对象访问器" alt="" coords="6,5,178,32"/>
<area shape="rect" href="classdb__connection__pro.html#a32a897add4c333a2c6e86f05996039ac" title="获取对象的单个域(字符型)" alt="" coords="23,57,161,98"/>
<area shape="rect" href="classdb__connection__pro.html#a3d3836a87cbf24b68401580918558a66" title="根据oid更新单个域(字符型)" alt="" coords="23,122,161,163"/>
</map>
</div>

</div>
</div>
<a id="ae63f1cfb8706ab02237f1fd447cf6157" name="ae63f1cfb8706ab02237f1fd447cf6157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae63f1cfb8706ab02237f1fd447cf6157">&#9670;&nbsp;</a></span>get_lv_of_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_lv_of_class </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td> -&gt; size_t </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取单表的当前对象数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>当前对象数 </dd></dl>

</div>
</div>
<a id="ab8518115ef3e2802d971a22c5c5e93c2" name="ab8518115ef3e2802d971a22c5c5e93c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8518115ef3e2802d971a22c5c5e93c2">&#9670;&nbsp;</a></span>get_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; OPEN_MODE </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取本db_connection所运行的模式 </p>
<dl class="section return"><dt>返回</dt><dd>CS_OPEN/CLIENT_OPEN </dd></dl>

</div>
</div>
<a id="a9a8edac61d0e77397a804ba245799f96" name="a9a8edac61d0e77397a804ba245799f96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8edac61d0e77397a804ba245799f96">&#9670;&nbsp;</a></span>get_mx_of_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_mx_of_class </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td> -&gt; size_t </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取单表的容量 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>表容量 </dd></dl>

</div>
</div>
<a id="afa4282592725f435eaae6424a51565b2" name="afa4282592725f435eaae6424a51565b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4282592725f435eaae6424a51565b2">&#9670;&nbsp;</a></span>get_object_by_oid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_object_by_oid </td>
          <td>(</td>
          <td class="paramtype">const OID &amp;&#160;</td>
          <td class="paramname"><em>oid</em></td><td>)</td>
          <td> -&gt; T </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>根据oid获取单个对象 </p>
<dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>对象类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">oid</td><td>对象oid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>对象 </dd></dl>

</div>
</div>
<a id="aded20cbb84f2a55cf44c6696684e7112" name="aded20cbb84f2a55cf44c6696684e7112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded20cbb84f2a55cf44c6696684e7112">&#9670;&nbsp;</a></span>get_pt_object_by_oid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_pt_object_by_oid </td>
          <td>(</td>
          <td class="paramtype">const OID &amp;&#160;</td>
          <td class="paramname"><em>oid</em></td><td>)</td>
          <td> -&gt; T * </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>根据oid获取对象紧耦合指针 </p>
<dl class="section attention"><dt>注意</dt><dd>只有CS_OPEN方式打开数据库时才能调用 </dd></dl>
<dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>对象类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">oid</td><td>对象oid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>对象指针 </dd></dl>

</div>
</div>
<a id="a1e12b3a5446e777f90674156a3ae14cf" name="a1e12b3a5446e777f90674156a3ae14cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e12b3a5446e777f90674156a3ae14cf">&#9670;&nbsp;</a></span>get_related_objects()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_related_objects </td>
          <td>(</td>
          <td class="paramtype">const OID &amp;&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_sz</em> = <code>DEFAULT_MAX_MSG_SIZE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; vector&lt;T&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>根据夫对象oid和父子关系域id，获取所有子对象 </p>
<dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>子对象类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">oid</td><td>父对象oid </td></tr>
    <tr><td class="paramname">fid</td><td>父子关系域id </td></tr>
    <tr><td class="paramname">max_sz</td><td>接口内部单次调用底层接口时所能获取的最大字节数，默认1M </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>所有子对象 </dd></dl>

</div>
</div>
<a id="a9f23e34b829021795ee4886cace0b656" name="a9f23e34b829021795ee4886cace0b656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f23e34b829021795ee4886cace0b656">&#9670;&nbsp;</a></span>get_single_class_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_single_class_addr </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td> -&gt; db_class_addr </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取单表紧耦合指针首地址 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>单表首地址 </dd></dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="classdb__connection__pro_a9f23e34b829021795ee4886cace0b656_icgraph.png" border="0" usemap="#aclassdb__connection__pro_a9f23e34b829021795ee4886cace0b656_icgraph" alt=""/></div>
<map name="aclassdb__connection__pro_a9f23e34b829021795ee4886cace0b656_icgraph" id="aclassdb__connection__pro_a9f23e34b829021795ee4886cace0b656_icgraph">
<area shape="rect" title="获取单表紧耦合指针首地址" alt="" coords="227,5,378,46"/>
<area shape="rect" href="classdb_obj_visitor.html#ab898e5aa9d3843b41ac8ae76e605b45a" title="单表对象访问器" alt="" coords="6,12,178,39"/>
</map>
</div>

</div>
</div>
<a id="a0e079dde109f14dab050c6dc99c7c869" name="a0e079dde109f14dab050c6dc99c7c869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e079dde109f14dab050c6dc99c7c869">&#9670;&nbsp;</a></span>get_sub_of_cycle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void db_connection_pro::get_sub_of_cycle </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>tail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取循环表表头表尾的下标 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
    <tr><td class="paramname">head</td><td>表头下标 </td></tr>
    <tr><td class="paramname">tail</td><td>表尾下标 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2b10b142ef3afad992e68095b820a01c" name="a2b10b142ef3afad992e68095b820a01c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b10b142ef3afad992e68095b820a01c">&#9670;&nbsp;</a></span>get_visitor() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_visitor </td>
          <td>(</td>
          <td class="paramtype">const OID &amp;&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; <a class="el" href="classdb_obj_visitor.html">dbObjVisitor</a>&lt;T&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>根据父对象oid和父子关联关系的域id，获取子对象的访问器 </p>
<div class="fragment"><div class="line"><span class="comment">// Example</span></div>
<div class="line">db_conncetion_pro dbp{p_scadamdl};</div>
<div class="line"><span class="keyword">auto</span> vol_visitor = dbp.get_visitor&lt;VoltageLevel_S&gt;(p_fac-&gt;oid(), fid_Substation_ContainsVoltageLevel);</div>
</div><!-- fragment --> <dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>子对象类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">oid</td><td>父对象oid </td></tr>
    <tr><td class="paramname">fid</td><td>父子关联关系的域id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>子对象访问器 </dd></dl>

</div>
</div>
<a id="ae5db5c2e47d8022e1e3fa4fedb0d220a" name="ae5db5c2e47d8022e1e3fa4fedb0d220a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5db5c2e47d8022e1e3fa4fedb0d220a">&#9670;&nbsp;</a></span>get_visitor() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::get_visitor </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td> -&gt; <a class="el" href="classdb_obj_visitor.html">dbObjVisitor</a>&lt;T&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取单表访问器 </p>
<ul>
<li>当连接方式为CLIENT_OPEN时，访问器里保存的是紧耦合指针并提供访问</li>
<li>当连接方式为CS_OPEN时，访问器会获取所有对象并保存再提供访问</li>
<li>当访问的表为循环表时，访问器会自动处理循环表的起始下标偏移，仍然从下标0开始访问即可 <div class="fragment"><div class="line"><span class="comment">// CLIENT_OPEN</span></div>
<div class="line">db_conncetion_pro dbp{p_scadamdl};</div>
<div class="line"><span class="comment">// 获取本地紧耦合指针</span></div>
<div class="line"><span class="keyword">auto</span> fac_visitor = dbp.get_visitor&lt;Substation_S&gt;(tid_Substation);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; fac : fac_visitor) {</div>
<div class="line">   <span class="comment">// ...</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// CS_OPEN</span></div>
<div class="line"><a class="code hl_class" href="classdb__connection__pro.html">db_connection_pro</a> dbp{p_scadamdl};</div>
<div class="line"><span class="comment">// 网络接口取数</span></div>
<div class="line"><span class="keyword">auto</span> fac_visitor = dbp.<a class="code hl_function" href="classdb__connection__pro.html#ae5db5c2e47d8022e1e3fa4fedb0d220a">get_visitor</a>&lt;Substation&gt;(tid_Substation);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; fac : fac_visitor) {</div>
<div class="line">   <span class="comment">// ...</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassdb__connection__pro_html"><div class="ttname"><a href="classdb__connection__pro.html">db_connection_pro</a></div><div class="ttdoc">对db_connection进行二次封装</div><div class="ttdef"><b>Definition:</b> db_connection_pro.h:50</div></div>
<div class="ttc" id="aclassdb__connection__pro_html_ae5db5c2e47d8022e1e3fa4fedb0d220a"><div class="ttname"><a href="classdb__connection__pro.html#ae5db5c2e47d8022e1e3fa4fedb0d220a">db_connection_pro::get_visitor</a></div><div class="ttdeci">auto get_visitor(uint16_t tid) -&gt; dbObjVisitor&lt; T &gt;</div><div class="ttdoc">获取单表访问器</div><div class="ttdef"><b>Definition:</b> db_connection_pro.h:109</div></div>
</div><!-- fragment --> <dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>表类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>单表访问器 </dd></dl>
</li>
</ul>

</div>
</div>
<a id="ad3bc16a1a80b1f4aefcd837145a62b35" name="ad3bc16a1a80b1f4aefcd837145a62b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3bc16a1a80b1f4aefcd837145a62b35">&#9670;&nbsp;</a></span>is_circle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::is_circle </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td> -&gt; bool </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>判断指定表是否为循环表 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>表id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>是否为循环表 </dd></dl>

</div>
</div>
<a id="a7726252d4fde79725ac0c179cf89449e" name="a7726252d4fde79725ac0c179cf89449e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7726252d4fde79725ac0c179cf89449e">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdb__connection__pro.html">db_connection_pro</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> -&gt;  <a class="el" href="classdb__connection__pro.html">db_connection_pro</a> &amp;=default</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>默认拷贝赋值函数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>被拷贝的对象 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>拷贝生成的对象 </dd></dl>

</div>
</div>
<a id="a3d3836a87cbf24b68401580918558a66" name="a3d3836a87cbf24b68401580918558a66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3836a87cbf24b68401580918558a66">&#9670;&nbsp;</a></span>update_attr_by_oid() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::update_attr_by_oid </td>
          <td>(</td>
          <td class="paramtype">const OID &amp;&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="namespacedsp_1_1type__traits.html#a94444abd4b0829bf423af5defe918cdc">dsp::enable_if_t</a>&lt; <a class="el" href="namespacedsp_1_1type__traits.html#aa75dcad1b3ea3d9043d65b77e023b7dc">dsp::is_same_t</a>&lt; char *, typename <a class="el" href="namespacedsp_1_1type__traits.html#a91dc75b2235bcea6e4e45b78612a06fe">dsp::decay_t</a>&lt; T &gt; &gt;::value &gt; *&#160;</td>
          <td class="paramname"> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; int32_t </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>根据oid更新单个域(字符型) </p>
<dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>域类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">oid</td><td>对象oid </td></tr>
    <tr><td class="paramname">fid</td><td>域id </td></tr>
    <tr><td class="paramname">attr</td><td>域对象 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>更新是否成功 </dd></dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="classdb__connection__pro_a3d3836a87cbf24b68401580918558a66_cgraph.png" border="0" usemap="#aclassdb__connection__pro_a3d3836a87cbf24b68401580918558a66_cgraph" alt=""/></div>
<map name="aclassdb__connection__pro_a3d3836a87cbf24b68401580918558a66_cgraph" id="aclassdb__connection__pro_a3d3836a87cbf24b68401580918558a66_cgraph">
<area shape="rect" title="根据oid更新单个域(字符型)" alt="" coords="5,5,144,46"/>
<area shape="rect" href="classdb__connection__pro.html#a7f2bdcff0e93b03da638662ab31aef7f" title="查询域对象元数据" alt="" coords="192,5,331,46"/>
</map>
</div>

</div>
</div>
<a id="a8b80a06122e657fe2a0adc457aed0521" name="a8b80a06122e657fe2a0adc457aed0521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b80a06122e657fe2a0adc457aed0521">&#9670;&nbsp;</a></span>update_attr_by_oid() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto db_connection_pro::update_attr_by_oid </td>
          <td>(</td>
          <td class="paramtype">const OID &amp;&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="namespacedsp_1_1type__traits.html#a94444abd4b0829bf423af5defe918cdc">dsp::enable_if_t</a>&lt; std::is_arithmetic&lt; T &gt;::value &gt; *&#160;</td>
          <td class="paramname"> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; int32_t </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>根据oid更新单个域(数值型) </p>
<dl class="tparams"><dt>模板参数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>域类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">oid</td><td>对象oid </td></tr>
    <tr><td class="paramname">fid</td><td>域id </td></tr>
    <tr><td class="paramname">attr</td><td>域对象 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>更新是否成功 </dd></dl>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>D:/project/Aux2022/vobs/include/app/scada/dsp/<a class="el" href="db__connection__pro_8h_source.html">db_connection_pro.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
生成于 2022年 五月 3日 星期二 17:04:52 , 为 DSP接口文档使用 &#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
